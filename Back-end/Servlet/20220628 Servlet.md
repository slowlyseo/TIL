title : Servlet 1ì¼ì°¨

date : 2022-06-28

ë³µìŠµ ì‹œì‘ ì „ì— ì½ì€ ê¸€ ë§í¬ : [[ë²ˆì—­] ê°œë°œ ë°°ìš°ê¸°ê°€ ì •ë§ ì–´ë ¤ìš´ ì´ìœ ](https://brunch.co.kr/@jypthemiracle/14)

( â€â¤šâ€)?

1ë‹¨ê³„ì—ì„œë„ ìì‹ ê°ì´ ì—†ìœ¼ë©´ ì–´ë–»ê²Œ í•´ì•¼...



------



ë™ì  ì›¹ í”„ë¡œê·¸ë˜ë° : ì •ì  ì›¹ í”„ë¡œê·¸ë˜ë°ì—ì„œ ê´€ë¦¬ìì˜ ì—­í• ì„ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ê°€ **ëŒ€ì‹ ** ìˆ˜í–‰ -> ì‚¬ëŒì´ ì§ì ‘ ë’¤ì—ì„œ ì¡°ì‘í•˜ì§€ ì•Šê³  ìë™ìœ¼ë¡œ ì²˜ë¦¬í•´ì¤€ë‹¤ëŠ” ëœ» ()



ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ : **Web Application Server**



í´ë¼ì´ì–¸íŠ¸(ì›¹ í˜ì´ì§€ ì´ìš©ì)ì˜ ìš”ì²­ -> ì›¹ ì„œë²„ -> **WAS** -> CRUD(ë°ì´í„°ë² ì´ìŠ¤) -> **WAS** -> ì›¹ ì„œë²„ -> í´ë¼ì´ì–¸íŠ¸



ì¦‰, **Servletì€ ì—¬ê¸°ì„œ WASì— í•´ë‹¹.**



- ì„œë¸”ë¦¿ì€ ìë°” í´ë˜ìŠ¤ë‹¤. (ì„œë²„ì—ì„œ ì‹¤í–‰, í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì— ë”°ë¼ ë™ì  ì„œë¹„ìŠ¤ ì œê³µ)

- ìë°”ì˜ íŠ¹ì§• ê·¸ëŒ€ë¡œ ê°ì²´ ì§€í–¥.
- í´ë˜ìŠ¤ë¼ì„œ ë…ìì ìœ¼ë¡œ ì‹¤í–‰ X, Tomcatê³¼ ê°™ì€ ì›¹ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤í–‰.

-> ìë°” í´ë˜ìŠ¤ ê°œë… ë” í™•ì‹¤í•˜ê²Œ ì§šê³  ë„˜ì–´ê°€ê¸°



í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë¸”ë¦¿ ìš”ì²­ - ì„œë²„ì—ì„œ ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ, ìŠ¤ë ˆë“œ ìƒì„± - ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆê°€ ìŠ¤ë ˆë“œ ê°€ë™, ì„œë¸”ë¦¿ ê°ì²´ ìƒì„± - ì„œë¸”ë¦¿ ê°ì²´ ì‹¤í–‰ ì¢…ë£Œ ì‹œ ìŠ¤ë ˆë“œ ì¢…ë£Œ, ë°˜í™˜ - ì„œë¸”ë¦¿ ì‹¤í–‰ ê²°ê³¼ ì›¹ ì„œë²„ ì „ì†¡ - ê·¸ ê²°ê³¼ë¥¼ ì›¹ ì„œë²„ê°€ ì›¹ ë¸Œë¼ìš°ì €ì— ì „ì†¡



- **ì„œë¸”ë¦¿ ê°ì²´** ì²˜ìŒ í•œ ë²ˆ ìƒì„±
- **init()** ì²˜ìŒ í•œ ë²ˆ ìƒì„±
- **doGet() / doPost()** ìš”ì²­ ì‹œ ë§¤ë²ˆ ìˆ˜í–‰
- **destroy()** ìˆ˜ì •í•˜ê±°ë‚˜ ì„œë²„ ì¬ê°€ë™í•˜ë©´ ìˆ˜í–‰



-> ê³¼ì • ë„ˆë¬´ ë§ì€ë°? No! ìµœì´ˆ ìš”ì²­ ì‹œ ê°ì²´ê°€ ë§Œë“¤ì–´ì ¸ ë©”ëª¨ë¦¬ì— ë¡œë“œ ëœ í›„ ì´í›„ ìš”ì²­ì—ëŠ” ê¸°ì¡´ ê°ì²´ ì¬í™œìš©. **ë¹ ë¥¸ ì‘ë‹µ ì†ë„**ë¥¼ ìë‘í•œë‹¤. ğŸ‘



------



ì„œë¸”ë¦¿ ë§µí•‘(Mapping)

ì„œë¸”ë¦¿ ê²½ë¡œë¥¼ ì—°ê²°, ë…¸ì¶œë¡œ ì¸í•œ ë³´ì•ˆ ë¬¸ì œ ì œê±°, url ê°„ë‹¨íˆ.



ì„œë¸”ë¦¿ ë§µí•‘ì—ëŠ” ë‘ ê°€ì§€ ë°©ë²•ì´ ì‚¬ìš©ë˜ëŠ”ë°, í•˜ë‚˜ëŠ” web.xmlì—ì„œ ì§ì ‘ ì…ë ¥í•´ì£¼ëŠ” ë°©ë²•ì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ ì´ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤.

web.xmlì„ ì§ì ‘ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ ì•ˆ ì”€!

ì´í´ë¦½ìŠ¤ì—ì„œ ìë™ìœ¼ë¡œ ì§€ì •í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©.

 **url : http://localhost:8080/Servlet01/FirstServlet**

- url - ì „ì²´ ì£¼ì†Œ
- http - í”„ë¡œí† ì½œ
- localhost - IP
- 8080 - í¬íŠ¸ë²ˆí˜¸
- Servlet01/FirstServlet - URI

URIëŠ” í”„ë¡œì íŠ¸ëª… + ì„œë¸”ë¦¿ ë§µí•‘ ì´ë¦„ì´ë‹¤

ì£¼ì˜! ë‹¤ë¥¸ ë¶€ë¶„ì˜ '/'ëŠ” ìë™ ì¶”ê°€ì§€ë§Œ ì„œë¸”ë¦¿ ë§µí•‘ì˜ '/'ëŠ” ì§ì ‘ ì¶”ê°€í•œ ê²ƒ. (ì•„ë§ˆ êµ¬ë¶„ì„ ìœ„í•¨?)



**@WebServlet** (ì–´ë…¸í…Œì´ì…˜)ì„ ì´ìš©í•˜ì—¬ ì„œë¸”ë¦¿ ë§µí•‘ êµ¬í˜„

***@WebServlet("###")ì€ htmlì˜ form íƒœê·¸ ì•ˆ actionì˜ ì´ë¦„(###)ê³¼ ë™ì¼í•´ì•¼ í•¨!***



htmlì˜ <form> íƒœê·¸

action ì†ì„± : ì„œë¸”ë¦¿ ë˜ëŠ” JSP ì´ë¦„ ì§€ì •

method : get ë˜ëŠ” post (ë””í´íŠ¸ëŠ” get)



htmlì˜ <input> íƒœê·¸

ë°ì´í„°ë¥¼ ì…ë ¥ ë°›ì•„ ì „ì†¡ (ì„œë¸”ë¦¿ìœ¼ë¡œ?)

name ì†ì„± ì‚¬ìš©



get / post ë°©ì‹ ì°¨ì´ëŠ” ë°±ì—”ë“œ_Servlet_01.docx ì°¸ê³ 



**ì½˜ì†”ì— ì¶œë ¥ / ì›¹ í˜ì´ì§€ì— ì¶œë ¥**

ì½˜ì†”ì— ì¶œë ¥ì€ ëŠ˜ ê·¸ë¬ë“¯ syso+ctrl+spaceê°€ ë„ì™€ì¤€ë‹¤.

ì›¹ í˜ì´ì§€ì— ì¶œë ¥í•˜ê¸° ìœ„í•´ì„œëŠ” **ê°ì²´**ë¥¼ í†µí•´ì•¼ ê°€ëŠ¥í•˜ë‹¤!



- í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•  ë°ì´í„° íƒ€ì… ì¸ì½”ë”©
- **response.setContentType(â€œtext/html;charset=utf-8â€);**

- í´ë¼ì´ì–¸íŠ¸ (ì›¹ ë¸Œë¼ìš°ì €)ì™€ ì„œë¸”ë¦¿ì˜ í†µì‹ ì€ **ìë°” ì¸í’‹/ì•„ì›ƒí’‹ ìŠ¤íŠ¸ë¦¼** ì´ìš©
- - PrintWriter í´ë˜ìŠ¤
  - PrintWriter out = response.getWriter();
  - out.print(data);



<ì˜ˆì‹œ>

```
protected void doHandle(HttpServletRequest request,  HttpServletResponse response)

 throws ServletException, IOException {

		request.setCharacterEncoding("utf-8"); // ë°ì´í„° ì¸ì½”ë”©

		String user_id = request.getParameter("user_id");
		String user_pw = request.getParameter("user_pw");
		
		response.setContentType("text/html;charset=utf-8");
		// HTML ë¬¸ì„œ ì¸ì½”ë”©
		
		PrintWriter out = response.getWriter();

		// html ë¬¸ì„œ í˜•ì‹ìœ¼ë¡œ ë°ì´í„° ì‘ì„±í•´ì„œ ì „ì†¡
		out.println("<html><head></head><body>");
		out.println("ì•„ì´ë”” : " + user_id + "<br>");
		out.println("ë¹„ë°€ë²ˆí˜¸ : " + user_pw + "<br>");
		out.println("</body></html>");
	}
```



ğŸ¤¨...?

í•˜ë‚˜ì”© ëœ¯ì–´ ë³´ì! ğŸ¤”



```
String user_id = request.getParameter("user_id");
```

ì…ë ¥ë°›ì€ ê°’ì„ String ê°’ìœ¼ë¡œ user_idì— ì €ì¥?



```
response.setContentType("text/html;charset=utf-8");
```

ì´ê²Œ ìˆìœ¼ë©´ ì›¹ í˜ì´ì§€ì—ë„ ì…ë ¥ ê°’ì´ ì¶œë ¥ëœë‹¤.



```
PrintWriter out = response.getWriter();
```

PrintWriter ì´ê²ƒë„ ëŒ€ì¶©... ì…ë ¥ë°›ì€ ê°’ì„ ë°˜í™˜í•´ì„œ ì¶œë ¥í•´ì£¼ëŠ” í´ë˜ìŠ¤ì¸ ê²ƒ ê°™ë‹¤.

getter ë¹„ìŠ·í•œ ê±°ê² ì§€...?



```
out.println("<html><head></head><body>");
out.println("ì•„ì´ë”” : " + user_id + "<br>");
out.println("ë¹„ë°€ë²ˆí˜¸ : " + user_pw + "<br>");
out.println("</body></html>");
```

out.prinln ì£¼ëª©



```
out.println("<html><head></head><body>");
out.println("</body></html>");
```

 ëŠ” ë³´ë‹¤ì‹œí”¼ htmlì˜ êµ¬ì¡°ë¥¼ ë”°ë¥´ê³  ìˆë‹¤.



ì¶œë ¥ë˜ëŠ” ë¶€ë¶„ì€

```
out.println("ì•„ì´ë”” : " + user_id + "<br>");
out.println("ë¹„ë°€ë²ˆí˜¸ : " + user_pw + "<br>");
```

ì´ ë¶€ë¶„ì´ë‹¤.



------



ì•„ë¬´ë˜ë„ ìë°” ê°ì²´ ì§€í–¥ ê°œë…ì— ëŒ€í•´ ê³µë¶€ë¥¼ í•´ì•¼í•  ê²ƒ ê°™ë‹¤.

ê°ì²´... ì–´ë ¤ì›Œì„œ ë„˜ê²¼ë”ë‹ˆ ì‚° ë„˜ì–´ ì‚°...!

í´ë˜ìŠ¤ê°€ ìˆê³ ... ë©”ì†Œë“œê°€ ìˆê³ ... í´ë˜ìŠ¤ë„ ê°œë…ì´ ë‘ ê°€ì§€ì¸ ê²ƒ ê°™ë‹¤. ì•„ë§ˆë„...

í™”ì´íŒ….